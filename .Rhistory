theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD*10, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, sec.axis = sec_axis(~ . / 10, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
# Importing the Current Account Balance as a % of GDP of France
CABalance_FR <- read_csv("sourcecode/FRED_bop_france_quarterly.csv",
col_types = cols(DATE = col_date(format = "%d/%m/%Y"),
FRAB6BLTT02STSAQ = col_number())) %>%
mutate(FRAB6BLTT02STSAQ = FRAB6BLTT02STSAQ /100)
rename(date = DATE, CAasPercGDP_quart_FR = FRAB6BLTT02STSAQ)
# Here we import all relevant packages and set options
library(dplyr)
library(tidyverse)
library(lubridate) # This package is used for working with dates
library(knitr) # This package is for nicer tables
library(kableExtra) # Package for even nicer tables.https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html#Overview
options(scipen = 999) # Disable scientific notation
# Importing the Current Account Balance as a % of GDP of France
CABalance_FR <- read_csv("sourcecode/FRED_bop_france_quarterly.csv",
col_types = cols(DATE = col_date(format = "%d/%m/%Y"),
FRAB6BLTT02STSAQ = col_number())) %>%
mutate(FRAB6BLTT02STSAQ = FRAB6BLTT02STSAQ /100) %>%
rename(date = DATE, CAasPercGDP_quart_FR = FRAB6BLTT02STSAQ)
# Importing the General Government Debt as a % of GDP.
# THIS IS NOT IN PERCENT! GOVERNMENT DEBT OF 100%  => 1
GovDebt_FR <- read_csv("sourcecode/OECD_gov_debt_annual.csv",
col_types = cols(LOCATION = col_character(),
INDICATOR = col_skip(), SUBJECT = col_skip(),
MEASURE = col_skip(), FREQUENCY = col_skip(),
TIME = col_date(format = "%Y"), Value = col_number(),
`Flag Codes` = col_skip())) %>%
rename(date = TIME) %>%
filter(LOCATION == "FRA") %>%
mutate(LOCATION = NULL, GovDebt_ann_FR = Value / 100, Value = NULL)
# This function transform dates in a quarterly format of "2000-Q1" to 2000-01-01
QuarterToDate <- function(QuarterlyDate){
NumberofQuarter <- substr(QuarterlyDate, 7, 7)
Month <- 3 * as.numeric(NumberofQuarter) - 2
Month <- ifelse(Month == 10, Month, paste(0, Month))
Year <- substr(QuarterlyDate, 1, 4)
Date_String <- paste(Year, "-", Month, "-01") %>%
str_replace_all(" ", "")
Date <- as.Date(Date_String)
Date
}
# Importing Interest Rate on Government Bonds (10 year),
# also called "Long term interest rate", in %/annum
IntRate_FR <- read_csv("sourcecode/OECD_interest_rates_france_quarterly.csv",
col_types = cols(INDICATOR = col_skip(),
SUBJECT = col_skip(), MEASURE = col_skip(),
FREQUENCY = col_skip(), Value = col_number(),
`Flag Codes` = col_skip())) %>%
mutate(date = QuarterToDate(TIME),
IntRate_quart_FR = Value / 100,
Value = NULL, TIME = NULL, LOCATION = NULL)
# Exchange rate against the US dollar
XR_EurUSD <- read_csv("sourcecode/FRED_exchage_rate_quarterly.csv",
col_types = cols(DATE = col_date(format = "%d/%m/%Y"),
DEXUSEU = col_number())) %>%
rename(date = DATE, XR_quart_EurUSD = DEXUSEU) %>%
mutate(XR_quart_EurUSD = 1/XR_quart_EurUSD)
# Total GDP, in millions of US dollars
GDP_FR <- read_csv("sourcecode/FRED_euros_france_gdp_quarterly.csv",
col_types = cols(DATE = col_date(format = "%d/%m/%Y"),
CPMNACSCAB1GQFR = col_number())) %>%
mutate(date = DATE, GDP_quart_Millionseur_FR = CPMNACSCAB1GQFR,
CPMNACSCAB1GQFR = NULL, DATE = NULL)
# Investment (usually Gross Fixed Capital Formation), in millions of US dollars
Invest_FR <- read_csv("sourcecode/FRED_euros_investments_quarterly.csv",
col_types = cols(DATE = col_date(format = "%d/%m/%Y"),
FRAGFCFQDSMEI = col_number())) %>%
mutate(Invest_quart_Millionseur_FR = FRAGFCFQDSMEI / 1000000,
FRAGFCFQDSMEI = NULL) %>%
rename(date = DATE)
# Gross national savings as a % of GDP (savings rate).
# Again, this is in decimals, and not percent!
SavingsR_FR <- read_csv("sourcecode/OECD_savings_rate_annual.csv",
col_types = cols(INDICATOR = col_skip(),
SUBJECT = col_skip(), MEASURE = col_skip(),
FREQUENCY = col_skip(), TIME = col_date(format = "%Y"),
Value = col_number(), `Flag Codes` = col_skip())) %>%
filter(LOCATION == "FRA") %>%
mutate(SavR_ann_FR = Value / 100, LOCATION = NULL, Value = NULL) %>%
rename(date = TIME)
# Merging them all together
DF_FR <- CABalance_FR %>%
full_join(IntRate_FR, by = "date") %>%
full_join(XR_EurUSD, by = "date") %>%
full_join(GDP_FR, by = "date") %>%
full_join(Invest_FR, by = "date") %>%
full_join(GovDebt_FR, by = "date") %>%
full_join(SavingsR_FR, by = "date") %>%
filter(date != "1998-10-01") %>%
mutate(InvestmentR_Fr = Invest_quart_Millionseur_FR/GDP_quart_Millionseur_FR)
# Creating and printing a table with all the quarterly data
DF_quart_FR <- DF_FR %>%
select(!c(GovDebt_ann_FR, SavR_ann_FR)) %>%
mutate(date = format(as.Date(date), "%Y-%m"), InvestmentR_Fr = InvestmentR_Fr * 100)%>%
rename(`Current Account Balance as % of GDP` = CAasPercGDP_quart_FR,
`Inflation Rate` = IntRate_quart_FR,
`Exchange Rate €/USD` = XR_quart_EurUSD,
`GDP in millions of €` = GDP_quart_Millionseur_FR,
`Invesment in millions of €` = Invest_quart_Millionseur_FR,
`Investment rate as % of GDP` = InvestmentR_Fr,
`Date (Year-Month)` = date
)
DF_quart_FR %>%
kable(caption = "Quarterly data for France") %>%
kable_classic(html_font = "Cambria", full_width = TRUE, font_size = 4.5)
# Creating and printing atable with all the annual data
DF_ann_FR <- DF_FR %>%
select(c(date, GovDebt_ann_FR, SavR_ann_FR)) %>%
mutate(date = format(as.Date(date), "%Y"),
GovDebt_ann_FR = GovDebt_ann_FR * 100,
SavR_ann_FR = SavR_ann_FR * 100) %>%
na.omit() %>%
rename(`General_government_debt_as_a_%_of_GDP` = GovDebt_ann_FR,
`Gross_national_savings_as_a_%_of_GDP` = SavR_ann_FR,
`Year` = date)
DF_ann_FR %>%
kable(caption = "Annual data for France") %>%
kable_classic(html_font = "Cambria", full_width = TRUE)
#Creating plot for Gov Debt & Interest Rate v Time
#Ommiting NA first
DF_FR_NA <- DF_FR %>%
na.omit
colors1 <- c("Government debt" = "navyblue", "Long term interest rate" = "dodgerblue1")
ggplot() +
geom_line(DF_FR_NA, mapping = aes(x = date, y = GovDebt_ann_FR, color = "Government debt")) +
geom_line(DF_FR, mapping = aes(x = date, y = IntRate_quart_FR*10, color = "Long term interest rate")) +
scale_y_continuous(labels = scales::percent, name = "Government Debt (annually in %)", sec.axis = sec_axis(~ . /10, name = "Long Term Interest Rate (quarterly in %)", labels = scales::percent)) +
labs(x = "Year", title = "Government Debt and Long Term Interest Rates\nFor France in %", color = "") +
scale_color_manual(values = colors1) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD*10, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, sec.axis = sec_axis(~ . / 10, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
ggplot() +
geom_line(DF_FR_NA, mapping = aes(x = date, y = SavR_ann_FR), color = "navyblue") +
geom_line(DF_FR, mapping = aes(x = date, y = InvestmentR_Fr), color = "dodgerblue1") +
labs(x = "Year", y = "% of GDP", title = "Investment and Savings Rate as % of GDP\nFor France") +
scale_y_continuous(labels = scales::percent, breaks = seq(0, 0.25, by = 0.05), limits = c(0, 0.25))
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD*10, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(sec.axis = sec_axis(~ . / 10, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD*10, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, sec.axis = sec_axis(~ . / 10, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD*10, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, limits = c(0, 0.25), sec.axis = sec_axis(~ . / 10, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD*10, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, sec.axis = sec_axis(~ . / 10, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD*10, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, sec.axis = sec_axis(~ . * 10, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, sec.axis = sec_axis(~ . , name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD /100, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, sec.axis = sec_axis(~ . /100 , name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, sec.axis = sec_axis(~ . , name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD / 10, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, sec.axis = sec_axis(~ . /10, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD / 10, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, sec.axis = sec_axis(~ . *10, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD / 100, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, sec.axis = sec_axis(~ . *100, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD / 20, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, sec.axis = sec_axis(~ . *20, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD / 50, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, sec.axis = sec_axis(~ . *50, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD / 10, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, sec.axis = sec_axis(~ . *10, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
colors3 <- c("Savings Rate" = "navyblue", "Investment Rate" = "dodgerblue1")
ggplot() +
geom_line(DF_FR_NA, mapping = aes(x = date, y = SavR_ann_FR, color = "Savings Rate")) +
geom_line(DF_FR, mapping = aes(x = date, y = InvestmentR_Fr, color = "Investment Rate")) +
labs(x = "Year", y = "% of GDP", title = "Investment and Savings Rate as % of GDP\nFor France") +
scale_y_continuous(labels = scales::percent, breaks = seq(0, 0.25, by = 0.05), limits = c(0, 0.25)) +
scale_color_manual(values = colors3) +
theme(legend.position="bottom")
colors3 <- c("Savings Rate" = "navyblue", "Investment Rate" = "dodgerblue1")
ggplot() +
geom_line(DF_FR_NA, mapping = aes(x = date, y = SavR_ann_FR, color = "Savings Rate")) +
geom_line(DF_FR, mapping = aes(x = date, y = InvestmentR_Fr, color = "Investment Rate")) +
labs(x = "Year", y = "% of GDP", title = "Investment and Savings Rate as % of GDP\nFor France", color = "") +
scale_y_continuous(labels = scales::percent, breaks = seq(0, 0.25, by = 0.05), limits = c(0, 0.25)) +
scale_color_manual(values = colors3) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD / 10, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, limits = c(-0.04, 0.04), sec.axis = sec_axis(~ . *10, name = "Exchange Rate - Eur/Dollar", limits = c(0.6, 1.4))) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
# Here we import all relevant packages and set options
library(dplyr)
library(tidyverse)
library(lubridate) # This package is used for working with dates
library(knitr) # This package is for nicer tables
library(kableExtra) # Package for even nicer tables.https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html#Overview
options(scipen = 999) # Disable scientific notation
# Importing the Current Account Balance as a % of GDP of France
CABalance_FR <- read_csv("sourcecode/FRED_bop_france_quarterly.csv",
col_types = cols(DATE = col_date(format = "%d/%m/%Y"),
FRAB6BLTT02STSAQ = col_number())) %>%
mutate(FRAB6BLTT02STSAQ = FRAB6BLTT02STSAQ /100) %>%
rename(date = DATE, CAasPercGDP_quart_FR = FRAB6BLTT02STSAQ)
# Importing the General Government Debt as a % of GDP.
# THIS IS NOT IN PERCENT! GOVERNMENT DEBT OF 100%  => 1
GovDebt_FR <- read_csv("sourcecode/OECD_gov_debt_annual.csv",
col_types = cols(LOCATION = col_character(),
INDICATOR = col_skip(), SUBJECT = col_skip(),
MEASURE = col_skip(), FREQUENCY = col_skip(),
TIME = col_date(format = "%Y"), Value = col_number(),
`Flag Codes` = col_skip())) %>%
rename(date = TIME) %>%
filter(LOCATION == "FRA") %>%
mutate(LOCATION = NULL, GovDebt_ann_FR = Value / 100, Value = NULL)
# This function transform dates in a quarterly format of "2000-Q1" to 2000-01-01
QuarterToDate <- function(QuarterlyDate){
NumberofQuarter <- substr(QuarterlyDate, 7, 7)
Month <- 3 * as.numeric(NumberofQuarter) - 2
Month <- ifelse(Month == 10, Month, paste(0, Month))
Year <- substr(QuarterlyDate, 1, 4)
Date_String <- paste(Year, "-", Month, "-01") %>%
str_replace_all(" ", "")
Date <- as.Date(Date_String)
Date
}
# Importing Interest Rate on Government Bonds (10 year),
# also called "Long term interest rate", in %/annum
IntRate_FR <- read_csv("sourcecode/OECD_interest_rates_france_quarterly.csv",
col_types = cols(INDICATOR = col_skip(),
SUBJECT = col_skip(), MEASURE = col_skip(),
FREQUENCY = col_skip(), Value = col_number(),
`Flag Codes` = col_skip())) %>%
mutate(date = QuarterToDate(TIME),
IntRate_quart_FR = Value / 100,
Value = NULL, TIME = NULL, LOCATION = NULL)
# Exchange rate against the US dollar
XR_EurUSD <- read_csv("sourcecode/FRED_exchage_rate_quarterly.csv",
col_types = cols(DATE = col_date(format = "%d/%m/%Y"),
DEXUSEU = col_number())) %>%
rename(date = DATE, XR_quart_EurUSD = DEXUSEU) %>%
mutate(XR_quart_EurUSD = 1/XR_quart_EurUSD)
# Total GDP, in millions of US dollars
GDP_FR <- read_csv("sourcecode/FRED_euros_france_gdp_quarterly.csv",
col_types = cols(DATE = col_date(format = "%d/%m/%Y"),
CPMNACSCAB1GQFR = col_number())) %>%
mutate(date = DATE, GDP_quart_Millionseur_FR = CPMNACSCAB1GQFR,
CPMNACSCAB1GQFR = NULL, DATE = NULL)
# Investment (usually Gross Fixed Capital Formation), in millions of US dollars
Invest_FR <- read_csv("sourcecode/FRED_euros_investments_quarterly.csv",
col_types = cols(DATE = col_date(format = "%d/%m/%Y"),
FRAGFCFQDSMEI = col_number())) %>%
mutate(Invest_quart_Millionseur_FR = FRAGFCFQDSMEI / 1000000,
FRAGFCFQDSMEI = NULL) %>%
rename(date = DATE)
# Gross national savings as a % of GDP (savings rate).
# Again, this is in decimals, and not percent!
SavingsR_FR <- read_csv("sourcecode/OECD_savings_rate_annual.csv",
col_types = cols(INDICATOR = col_skip(),
SUBJECT = col_skip(), MEASURE = col_skip(),
FREQUENCY = col_skip(), TIME = col_date(format = "%Y"),
Value = col_number(), `Flag Codes` = col_skip())) %>%
filter(LOCATION == "FRA") %>%
mutate(SavR_ann_FR = Value / 100, LOCATION = NULL, Value = NULL) %>%
rename(date = TIME)
# Merging them all together
DF_FR <- CABalance_FR %>%
full_join(IntRate_FR, by = "date") %>%
full_join(XR_EurUSD, by = "date") %>%
full_join(GDP_FR, by = "date") %>%
full_join(Invest_FR, by = "date") %>%
full_join(GovDebt_FR, by = "date") %>%
full_join(SavingsR_FR, by = "date") %>%
filter(date != "1998-10-01") %>%
mutate(InvestmentR_Fr = Invest_quart_Millionseur_FR/GDP_quart_Millionseur_FR)
# Creating and printing a table with all the quarterly data
DF_quart_FR <- DF_FR %>%
select(!c(GovDebt_ann_FR, SavR_ann_FR)) %>%
mutate(date = format(as.Date(date), "%Y-%m"), InvestmentR_Fr = InvestmentR_Fr * 100)%>%
rename(`Current Account Balance as % of GDP` = CAasPercGDP_quart_FR,
`Inflation Rate` = IntRate_quart_FR,
`Exchange Rate €/USD` = XR_quart_EurUSD,
`GDP in millions of €` = GDP_quart_Millionseur_FR,
`Invesment in millions of €` = Invest_quart_Millionseur_FR,
`Investment rate as % of GDP` = InvestmentR_Fr,
`Date (Year-Month)` = date
)
DF_quart_FR %>%
kable(caption = "Quarterly data for France") %>%
kable_classic(html_font = "Cambria", full_width = TRUE, font_size = 4.5)
# Creating and printing atable with all the annual data
DF_ann_FR <- DF_FR %>%
select(c(date, GovDebt_ann_FR, SavR_ann_FR)) %>%
mutate(date = format(as.Date(date), "%Y"),
GovDebt_ann_FR = GovDebt_ann_FR * 100,
SavR_ann_FR = SavR_ann_FR * 100) %>%
na.omit() %>%
rename(`General_government_debt_as_a_%_of_GDP` = GovDebt_ann_FR,
`Gross_national_savings_as_a_%_of_GDP` = SavR_ann_FR,
`Year` = date)
DF_ann_FR %>%
kable(caption = "Annual data for France") %>%
kable_classic(html_font = "Cambria", full_width = TRUE)
#Creating plot for Gov Debt & Interest Rate v Time
#Ommiting NA first
DF_FR_NA <- DF_FR %>%
na.omit
colors1 <- c("Government debt" = "navyblue", "Long term interest rate" = "dodgerblue1")
ggplot() +
geom_line(DF_FR_NA, mapping = aes(x = date, y = GovDebt_ann_FR, color = "Government debt")) +
geom_line(DF_FR, mapping = aes(x = date, y = IntRate_quart_FR*10, color = "Long term interest rate")) +
scale_y_continuous(labels = scales::percent, name = "Government Debt (annually in %)", sec.axis = sec_axis(~ . /10, name = "Long Term Interest Rate (quarterly in %)", labels = scales::percent)) +
labs(x = "Year", title = "Government Debt and Long Term Interest Rates\nFor France in %", color = "") +
scale_color_manual(values = colors1) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD / 10, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, limits = c(-0.04, 0.04), sec.axis = sec_axis(~ . *10, name = "Exchange Rate - Eur/Dollar", limits = c(0.6, 1.4))) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD / 10, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, limits = c(-0.04, 0.04), sec.axis = sec_axis(~ . *10, name = "Exchange Rate - Eur/Dollar") +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD / 10, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, limits = c(-0.04, 0.04), sec.axis = sec_axis(~ . *10, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD / 10 - 10, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, limits = c(-0.04, 0.04), sec.axis = sec_axis(~ . *10 + 10, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD / 10 + 10, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, limits = c(-0.04, 0.04), sec.axis = sec_axis(~ . *10 - 10, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD / 10 - 10, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, limits = c(-0.04, 0.04), sec.axis = sec_axis(~ . *10 + 10, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD / 10 - 1, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, limits = c(-0.04, 0.04), sec.axis = sec_axis(~ . *10 + 1, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD / 10 - 1, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, limits = c(-0.04, 0.04), sec.axis = sec_axis(~ . *10 - 1, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = XR_quart_EurUSD / 10 - 1, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, limits = c(-0.04, 0.04), sec.axis = sec_axis(~ . *10 + 1, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = (XR_quart_EurUSD / 10 - 1), color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, limits = c(-0.04, 0.04), sec.axis = sec_axis(~ . *10 + 1, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = (XR_quart_EurUSD - 1 )/ 10, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, limits = c(-0.04, 0.04), sec.axis = sec_axis(~ . *10 + 1, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = (XR_quart_EurUSD - 1 )/ 10, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, limits = c(-0.06, 0.06), sec.axis = sec_axis(~ . *10 + 1, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
colors2 <- c("Current account balance" = "navyblue", "Exchange Rate Eur/USD" = "dodgerblue1")
ggplot() +
geom_line(DF_FR, mapping = aes(x = date, y = CAasPercGDP_quart_FR, color = "Current account balance")) +
geom_line(DF_FR, mapping = aes(x = date, y = (XR_quart_EurUSD - 1 )/ 10, color = "Exchange Rate Eur/USD")) +
scale_y_continuous(labels = scales::percent, limits = c(-0.04, 0.04), sec.axis = sec_axis(~ . *10 + 1, name = "Exchange Rate - Eur/Dollar")) +
labs(x = "Year", y = "CA as % of GDP", title = "CA as % of GDP and Exchange Rates\nFor France", color = "") +
scale_color_manual(values = colors2) +
theme(legend.position="bottom")
View(DF_FR)
